// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Person {
  idPerson    Int    @id @default(autoincrement())
  name        String
  dateOfBirth String
  gender      String
  height      Float?
  weight      Float?

  Medications Medication[]
}

model MedicationType {
  idMedication Int          @id @default(autoincrement())
  type         String
  Medication   Medication[]
}

model Medication {
  idMedication Int     @id @default(autoincrement())
  name         String
  dosage       String
  frequency    String
  notes        String?

  person         Person @relation(fields: [personIdPerson], references: [idPerson])
  personIdPerson Int

  medicationType             MedicationType @relation(fields: [medicationTypeIdMedication], references: [idMedication])
  medicationTypeIdMedication Int

  MedicationSchedules MedicationSchedule[]
}

model MedicationSchedule {
  idMedication Int    @id @default(autoincrement())
  time         String

  medication             Medication @relation(fields: [medicationIdMedication], references: [idMedication])
  medicationIdMedication Int
}
